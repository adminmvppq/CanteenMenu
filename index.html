
<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <title>Menu Canteen</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .logo { max-height: 60px; }
        .header { display: flex; align-items: center; justify-content: space-between; }
        .search-bar { margin: 20px 0; }
        .grid-container { display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 20px; }
        .menu-card { border: 1px solid #ccc; border-radius: 8px; padding: 15px; background: #f9f9f9; }
        .menu-card h3 { margin-top: 0; }
        .dropdown { padding: 8px; font-size: 16px; }
        .date-input { padding: 8px; font-size: 16px; margin-left: 10px; }
    </style>
</head>
<body>
    <div class="header">
        <img src="https://adminmvppq.github.io/dataroom-mvppq/img/mvp_pq_logo.png" alt="Company Logo" class="logo">
        <h1>Th·ª±c ƒê∆°n Canteen</h1>
    </div>

    <div class="search-bar">
        <label for="searchType">T√¨m ki·∫øm:</label>
        <select id="searchType" class="dropdown">
            <option value="day">Theo ng√†y</option>
            <option value="week">Theo tu·∫ßn</option>
            <option value="month">Theo th√°ng</option>
        </select>
        <input type="date" id="searchDate" class="date-input">
        <button onclick="filterMenu()">T√¨m</button>
    </div>

    <div id="menuGrid" class="grid-container"></div>

    <script>
        from bs4 import BeautifulSoup

# Load the HTML content from the uploaded file
with open("canteen_menu.html", "r", encoding="utf-8") as file:
    soup = BeautifulSoup(file, "html.parser")

# Define icons for each meal type
meal_icons = {
    "S√°ng": "üåÖ",   # Sunrise
    "Tr∆∞a": "üåû",   # Sun
    "T·ªëi": "üåô"    # Moon
}

# Find all meal headers and prepend the corresponding icon
for meal, icon in meal_icons.items():
    headers = soup.find_all(lambda tag: tag.name in ["h4", "h5", "h6"] and meal in tag.text)
    for header in headers:
        if icon not in header.text:
            header.string = f"{icon} {header.text.strip()}"

# Save the updated HTML content
with open("canteen_menu_with_icons.html", "w", encoding="utf-8") as file:
    file.write(str(soup))

print("Updated HTML file with meal icons saved as 'canteen_menu_with_icons.html'.")


        const sheetUrl = "https://docs.google.com/spreadsheets/d/e/2PACX-1vSP9XmNWZdN8-1IgPIO6ouqwHeICx_Sam1EvPmeAsMvHDTKMFVYLna4HD4LHnjEJllC5er7mZ3r8UrV/pub?gid=1946670694&single=true&output=csv";

        let menuData = [];

        function groupByDate(data) {
            const grouped = {};
            data.forEach(row => {
                const date = row["Ng√†y"];
                if (!grouped[date]) grouped[date] = [];
                grouped[date].push(row);
            });
            return grouped;
        }

        function renderMenu(data) {
            const container = document.getElementById("menuGrid");
            container.innerHTML = "";
            const grouped = groupByDate(data);
            for (const date in grouped) {
                const card = document.createElement("div");
                card.className = "menu-card";
                card.innerHTML = `<h3>${date}</h3>`;
                grouped[date].forEach(item => {
                    card.innerHTML += `
                        <p><strong>${item["B·ªØa ƒÉn"]}</strong></p>
                        <ul>
                            <li><strong>Khai v·ªã:</strong> ${item["Khai v·ªã"]}</li>
                            <li><strong>M√≥n ch√≠nh:</strong> ${item["M√≥n ch√≠nh"]}</li>
                            <li><strong>Tr√°ng mi·ªáng:</strong> ${item["Tr√°ng mi·ªáng"]}</li>
                        </ul>
                    `;
                });
                container.appendChild(card);
            }
        }

        function filterMenu() {
            const type = document.getElementById("searchType").value;
            const dateInput = document.getElementById("searchDate").value;
            if (!dateInput) return alert("Vui l√≤ng ch·ªçn ng√†y");

            const selectedDate = new Date(dateInput);
            const filtered = menuData.filter(row => {
                const rowDate = new Date(row["Ng√†y"]);
                if (type === "day") {
                    return rowDate.toDateString() === selectedDate.toDateString();
                } else if (type === "week") {
                    const startOfWeek = new Date(selectedDate);
                    startOfWeek.setDate(selectedDate.getDate() - selectedDate.getDay());
                    const endOfWeek = new Date(startOfWeek);
                    endOfWeek.setDate(startOfWeek.getDate() + 6);
                    return rowDate >= startOfWeek && rowDate <= endOfWeek;
                } else if (type === "month") {
                    return rowDate.getMonth() === selectedDate.getMonth() &&
                           rowDate.getFullYear() === selectedDate.getFullYear();
                }
                return false;
            });

            renderMenu(filtered);
        }

        function parseCSV(text) {
            const lines = text.trim().split("\n");
            const headers = lines[0].split(",");
            return lines.slice(1).map(line => {
                const values = line.split(",");
                const obj = {};
                headers.forEach((h, i) => obj[h.trim()] = values[i]?.trim());
                return obj;
            });
        }

        fetch(sheetUrl)
            .then(res => res.text())
            .then(text => {
                menuData = parseCSV(text);
                renderMenu(menuData);
            });
    </script>
</body>
</html>
